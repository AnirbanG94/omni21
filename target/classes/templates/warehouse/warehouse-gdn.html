<div th:replace="fragments/head"></div>

<!--begin::Body-->
<style>
	pre {
		overflow: auto;
		word-wrap: normal;
		white-space: pre;
	}

	[ng\:cloak],
	[ng-cloak],
	.ng-cloak {
		display: none !important;
	}

	@media (min-width:992px) {
		.app-container-content {
			padding-left: 10px !important;
			padding-right: 10px !important;
		}


	}

	@media (max-width:991.98px) {
		.app-container-content {
			max-width: none;
			padding-left: 9px !important;
			padding-right: 9px !important;
		}
	}

	.prime-td {
		background-color: #f0f0f0 !important;
		height: 25px !important;
		padding: 0 0 0 10px !important;
		margin: 0 0 0 0 !important;
		vertical-align: middle !important;
		/* border: 1px #727272 solid !important; */
	}
</style>

<body ng-app="WarehouseManagment" ng-controller="GDNController" data-kt-name="metronic" id="kt_app_body"
	data-kt-app-layout="dark-sidebar" data-kt-app-header-fixed="true" data-kt-app-sidebar-enabled="true"
	data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-hoverable="true" data-kt-app-sidebar-push-header="true"
	data-kt-app-sidebar-push-toolbar="true" data-kt-app-sidebar-push-footer="true" data-kt-app-toolbar-enabled="true"
	class="app-default">


	<!-- Header content top header codes-->
	<div th:replace="fragments/header"></div>
	<!--end::Header-->


	<!--begin::Wrapper-->
	<div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
		<!--begin::sidebar-->
		<div th:replace="fragments/side-bar"></div>
		<!--end::sidebar-->


		<!--begin::Main-->
		<div class="app-main flex-column flex-row-fluid" id="kt_app_main">

			<!--========================== Multiple Views Content ==============================-->

			<!-- // List user view -->
			<div class="d-flex flex-column flex-column-fluid" ng-show="views.list">
				<!--begin::Toolbar-->
				<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
					<!--begin::Toolbar container-->
					<div id="kt_app_toolbar_container" class="app-container container-fluid d-flex flex-stack">
						<!--begin::Page title-->
						<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
							<!--begin::Title-->
							<h3 class="">
								<span>
									<i class="fa-regular fa-file-powerpoint fs-1"></i>
								</span>
								Goods Discrepancy Notes
							</h3>
							<!--end::Title-->
						</div>

						<div class="card-toolbar flex-row-fluid justify-content-end gap-5" style="text-align:right;">
							<button style="float:right;" type="button" class="btn btn-primary"
								ng-click="AddGDN()">Add</button>

							<button style="float:right;" type="button" class="btn btn-light-primary me-3"
								data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">Export</button>
							<!--begin::Menu-->
							<div id="kt_datatable_example_export_menu"
								class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-200px py-4"
								data-kt-menu="true">

								<!--begin::Menu item-->
								<div class="menu-item px-3">
									<a href="#" class="menu-link px-3" ng-click="exportToExcel('#kt_datatable_example')"
										data-kt-export="excel">
										Export as Excel
									</a>
								</div>
							</div>
							<div id="kt_datatable_example_buttons" class="d-none"></div>

						</div>
						<!--end::Page title-->
					</div>
					<!--end::Toolbar container-->
				</div>
				<!--end::Toolbar-->

				<div id="kt_app_content" class="app-content flex-column-fluid">

					<div id="" class="app-container-content container-xxl">

						<div class="card  card-flush">
							<div class="card-header border-0">
								<div class="card-title">
									<!--begin::Search-->
									<div class="d-flex align-items-center position-relative my-1">
										<span class="svg-icon svg-icon-1 position-absolute ms-6">
											<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2"
													rx="1" transform="rotate(45 17.0365 15.1223)" fill="currentColor">
												</rect>
												<path
													d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z"
													fill="currentColor"></path>
											</svg>
										</span>
										<input type="text" data-kt-filter="search" ng-model="searchText"
											class="form-control form-control-solid w-250px ps-15"
											placeholder="Search Report" />
									</div>
									<!--end::Search-->
									<!--begin::Export buttons-->
									<!-- <div id="kt_datatable_example_1_export" class="d-none"></div> -->
									<!--end::Export buttons-->
								</div>

							</div>
							<div class="card-body">
								<table
									class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer table-responsive"
									id="kt_datatable_example" datatable="ng" dt-options="vm.dtOptions">
									<thead>
										<!--begin::Table row-->
										<tr style="font-weight: 700 !important;color: black !important;"
											class="text-start text-gray-400 fw-bold fs-7 text-uppercase">
											<th class="min-w-100px">SL NO</th>
											<th class="min-w-100px">WareHouse</th>
											<th class="min-w-100px">Vendor</th>
											<th class="min-w-100px">Invoice No</th>
											<th class="min-w-100px">Invoice Date</th>

											<th class="min-w-100px">Po No</th>
											<th class="min-w-100px">Po Date</th>

											<th class="min-w-100px">Status</th>

											<th>#</th>
										</tr>
										<!--end::Table row-->
									</thead>
									<tbody class="fw-semibold text-gray-600">
										<tr class="odd" ng-repeat="gdn in gdn_details_view | filter:searchText">
											<td>{{$index+1}}</td>
											<td>{{gdn.outletName}}</td>
											<td>{{gdn.vendorName}}</td>
											<td>{{gdn.invNo}}</td>
											<td>{{gdn.invDt}}</td>

											<td>{{gdn.poNo}}</td>
											<td>{{gdn.poDt}}</td>

											<td>{{gdn.status}}</td>

											<td>
												<div class="btn-group" dropdown>
													<button type="button"
														class="btn btn-outline-primary dropdown-toggle">
														Action
													</button>
													<ul class="dropdown-menu" role="menu">


														<li><a href="#"
																ng-click="getGDNListForEditByid(gdn.id)">Edit</a>
														</li>

														<li><a href="#" ng-click="deleteGDN(gdn.id)">Delete</a>
														</li>
													</ul>
												</div>
											</td>

										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>


					<!--end::Content container-->
				</div>
			</div>

			<!-- Add user view -->
			<div class="d-flex flex-column flex-column-fluid" ng-show="views.add">
				<!--begin::Toolbar-->
				<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
					<!--begin::Toolbar container-->
					<div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
						<!--begin::Page title-->
						<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
							<!--begin::Title-->
							<h3 class="">
								<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24"
										viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path
											d="M11 2.375L2 9.575V20.575C2 21.175 2.4 21.575 3 21.575H9C9.6 21.575 10 21.175 10 20.575V14.575C10 13.975 10.4 13.575 11 13.575H13C13.6 13.575 14 13.975 14 14.575V20.575C14 21.175 14.4 21.575 15 21.575H21C21.6 21.575 22 21.175 22 20.575V9.575L13 2.375C12.4 1.875 11.6 1.875 11 2.375Z"
											fill="currentColor" />
									</svg>
								</span>
								GDN : Add
							</h3>
							<!--end::Title-->

						</div>
						<!--end::Page title-->
						<div class="card-toolbar flex-row-fluid justify-content-end gap-5" style="text-align:right;">
							<button class="btn btn-outline-danger" ng-click="changeView('list')" title="Cancel"
								style="padding: calc(-0.425rem + 1px) calc(-0.5rem + 1px);">
								<span class="svg-icon svg-icon-muted svg-icon-2hx">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg"
										style="width: 2.2rem !important;height: 2.5rem !important;">
										<path d="M9.60001 11H21C21.6 11 22 11.4 22 12C22 12.6 21.6 13 21 13H9.60001V11Z"
											fill="currentColor" />
										<path opacity="0.3" d="M9.6 20V4L2.3 11.3C1.9 11.7 1.9 12.3 2.3 12.7L9.6 20Z"
											fill="currentColor" />
									</svg>
								</span>
							</button>
						</div>

					</div>
					<!--end::Toolbar container-->
				</div>
				<!--end::Toolbar-->
				<!--begin::Content-->
				<div id="kt_app_content" class="app-content flex-column-fluid">
					<!--begin::Content container-->
					<div id="kt_app_content_container" class="app-container-content container-xxl">
						<!--begin::Contacts App- Add New Contact-->
						<div class="row g-7">
							<!--begin::Contact groups-->


							<!--begin::Content-->
							<div class="col-xl-12">
								<!--begin::Contacts-->
								<div class="card card-flush h-lg-100" id="kt_contacts_main">

									<!--begin::Card body-->
									<div class="card-body pt-5">
										<!--begin::Form-->
										<form id="kt_ecommerce_settings_general_form" class="form"
											ng-submit="addSaveGDN()">

											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b> Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.gdnDt" required placeholder="Date" name="Date" />

												</div>
												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b> Time</b></span>
													</label>
													<input type="time" class="form-control form-control-solid"
														ng-model="form.gdnTime" style="height:44px" required
														placeholder="Date" name="Date" />

												</div>


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Warehouse</b></span>
													</label>
													<select class="form-control form-control-solid"
														ng-model="form.warhId" name="warehouse"
														ng-options="outlet.id as outlet.name for outlet in outlet_gdn"
														required>
														<option>--select--</option>
													</select>

												</div>

											</div>
											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Vendor</b></span>
													</label>
													<select class="form-control form-control-solid"
														ng-model="form.vendorId" name="vendor"
														ng-options="vendor.id as vendor.name for vendor in vendors"
														ng-change="viewVendorDetails(form.vendorId)" required>
														<option>--select--</option>
													</select>


												</div>

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Invoice No</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.invoiceNo" placeholder="Invoice No"
														name="Invoice No" />

												</div>

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Invoice Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														placeholder="Invoice Date" ng-model="form.invoiceDt"
														id="kt_datepicker_2" name="Invoice Date" />

												</div>

											</div>

											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Address</b></span>
													</label>

													<input type="text" class="form-control form-control-solid"
														ng-model="form.address1" placeholder="Address" name="Address1"
														readonly />

												</div>


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Po No</b></span>
													</label>

													<select class="form-control form-control-solid" ng-model="form.poNo"
														ng-options="po.poNo as po.poNo for po in po_gdn">
														<option>--select--</option>
													</select>

												</div>


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Po Date</b></span>
													</label>

													<input type="text" class="form-control form-control-solid"
														placeholder="Po Date" name="Po Date" ng-model="form.poDt"
														id="kt_datepicker_1" readonly />

												</div>

											</div>
											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span><b>Narration</b></span>
													</label>

													<input type="text" class="form-control form-control-solid"
														ng-model="form.narr" placeholder="Narration" name="Narration" />



												</div>
												<div class="col-md-4 fv-row">

													<button type="button" class="btn btn-outline-primary me-3"
														style="float:left;margin-top:38px"
														ng-click="selectArticleModal(form.poNo)">SELECT ARTICLE</button>

												</div>





											</div>



											<br>
											<div class="separator mb-6" style="border-bottom: 1px solid #707274;"></div>


											<div class="row">

												<div class="col-md-12 fv-row table-responsive">
													<table class="table align-middle table-row-dashed table-responsiver"
														id="pick_list_dtl">
														<thead>
															<!--begin::Table row-->
															<tr style="font-weight: 700 !important;color: black !important;"
																class="text-start text-gray-400 fw-bold fs-7 text-uppercase">

																<th class="min-w-100px">Product Desc</th>
																<th class="min-w-100px">GRN No</th>
																<th class="min-w-100px">MRP</th>
																<th class="min-w-100px">Cost</th>
																<th class="min-w-100px">Rejection Quantity</th>
																<th class="min-w-100px">Reason</th>
																<th class="min-w-100px">#</th>
															</tr>
															<!--end::Table row-->
														</thead>
														<tbody class="fw-semibold text-gray-600">
															<tr class="odd"
																ng-repeat="(kee, product) in  form.product_details">

																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.name" readonly>
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.grnNo"
																		readonly></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.mrp" readonly>
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.cp" readonly>
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.rej_qty"></td>
																<td><select type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="form.reason"
																		ng-options="rsn.reason as rsn.reason for rsn in reasons">
																		<option>--select--</option>
																	</select></td>
																<td>
																	<div class="btn-group" dropdown>
																		<button type="button"
																			class="btn btn-outline-danger"
																			id="remove_add">
																			Remove
																		</button>

																	</div>
																</td>

																</td>
															</tr>
															<tr>
																<td colspan="6">
																	<center>

																		<button type="button"
																			class="border border-primary btn btn-icon btn-light-primary"
																			ng-click="appendNewitem()"
																			title="Click to add"><i
																				class="fas fa-plus"></i>
																		</button>
																	</center>
																</td>
															</tr>

														</tbody>
													</table>
												</div>


											</div>
											<br>
											<div class="separator mb-6"></div>

											<div class="" style="margin-bottom: 39px;padding-bottom: 16px;">
												<div class="col-md-12" style="text-align:center;">

													<button type="submit" class="btn btn-outline-primary me-3">
														<span class="indicator-label">Submit</span> <span
															class="indicator-progress">Please wait... <span
																class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
													</button>

													<button type="button" class="btn btn-outline-danger me-3"
														ng-click="changeView('list')">Cancel</button>
													<!--end::Button-->
													<!--begin::Button-->
												</div>

											</div>
											<!--end::Action buttons-->
										</form>
										<!--end::Form-->
									</div>
									<!--end::Card body-->
								</div>
								<!--end::Contacts-->
							</div>
							<!--end::Content-->
						</div>
						<!--end::Contacts App- Add New Contact-->
					</div>
					<!--end::Content container-->
				</div>
				<!--end::Content-->
			</div>
			<!-- GDN-Details-Edit -->
			<div class="d-flex flex-column flex-column-fluid" ng-show="views.edit">
				<!--begin::Toolbar-->
				<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
					<!--begin::Toolbar container-->
					<div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
						<!--begin::Page title-->
						<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
							<!--begin::Title-->
							<h3 class="">
								<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24"
										viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path
											d="M11 2.375L2 9.575V20.575C2 21.175 2.4 21.575 3 21.575H9C9.6 21.575 10 21.175 10 20.575V14.575C10 13.975 10.4 13.575 11 13.575H13C13.6 13.575 14 13.975 14 14.575V20.575C14 21.175 14.4 21.575 15 21.575H21C21.6 21.575 22 21.175 22 20.575V9.575L13 2.375C12.4 1.875 11.6 1.875 11 2.375Z"
											fill="currentColor" />
									</svg>
								</span>
								GDN : Edit
							</h3>
							<!--end::Title-->

						</div>
						<!--end::Page title-->
						<div class="card-toolbar flex-row-fluid justify-content-end gap-5" style="text-align:right;">
							<button class="btn btn-outline-danger" ng-click="changeView('list')" title="Cancel"
								style="padding: calc(-0.425rem + 1px) calc(-0.5rem + 1px);">
								<span class="svg-icon svg-icon-muted svg-icon-2hx">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg"
										style="width: 2.2rem !important;height: 2.5rem !important;">
										<path d="M9.60001 11H21C21.6 11 22 11.4 22 12C22 12.6 21.6 13 21 13H9.60001V11Z"
											fill="currentColor" />
										<path opacity="0.3" d="M9.6 20V4L2.3 11.3C1.9 11.7 1.9 12.3 2.3 12.7L9.6 20Z"
											fill="currentColor" />
									</svg>
								</span>
							</button>
						</div>

					</div>
					<!--end::Toolbar container-->
				</div>
				<!--end::Toolbar-->
				<!--begin::Content-->
				<div id="kt_app_content" class="app-content flex-column-fluid">
					<!--begin::Content container-->
					<div id="kt_app_content_container" class="app-container-content container-xxl">
						<!--begin::Contacts App- Add New Contact-->
						<div class="row g-7">
							<!--begin::Contact groups-->


							<!--begin::Content-->
							<div class="col-xl-12">
								<!--begin::Contacts-->
								<div class="card card-flush h-lg-100" id="kt_contacts_main">

									<!--begin::Card body-->
									<div class="card-body pt-5">
										<!--begin::Form-->
										<form id="kt_ecommerce_settings_general_form" class="form"
											ng-submit="editSaveGdn()">

											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b> Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.gdnDt" required placeholder="Date" name="Date" />

												</div>
												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b> Time</b></span>
													</label>
													<input type="time" class="form-control form-control-solid"
														ng-model="form.gdnTime" style="height:44px" required
														placeholder="Date" name="Date" />

												</div>


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Warehouse</b></span>
													</label>
													<select class="form-control form-control-solid"
														ng-model="form.warhId" name="warehouse"
														ng-options="outlet.id as outlet.name for outlet in outlet_gdn"
														required>
														<option>--select--</option>
													</select>

												</div>

											</div>
											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Vendor</b></span>
													</label>
													<select class="form-control form-control-solid"
														ng-model="form.vendorId" name="vendor"
														ng-options="vendor.id as vendor.name for vendor in vendors"
														ng-change="viewVendorDetails(form.vendorId)" required>
														<option>--select--</option>
													</select>


												</div>

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Invoice No</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.invNo" placeholder="Invoice No"
														name="Invoice No" />

												</div>

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Invoice Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														placeholder="Invoice Date" ng-model="form.invDt"
														name="Invoice Date" id="kt_datepicker_1" />

												</div>

											</div>

											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Address</b></span>
													</label>

													<input type="text" class="form-control form-control-solid"
														ng-model="form.address1" placeholder="Address" name="Address1"
														readonly />

												</div>


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Po No</b></span>
													</label>

													<select class="form-control form-control-solid" ng-model="form.poNo"
														ng-options="po.poNo as po.poNo for po in po_gdn"
														ng-change="fetchPoDateByPoNo(form.poNo)">
														<option>--select--</option>
													</select>

												</div>


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3">
														<span class="required"><b>Po Date</b></span>
													</label>

													<input type="text" class="form-control form-control-solid"
														placeholder="Po Date" name="Po Date" ng-model="form.poDt"
														readonly />

												</div>

											</div>
											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">

												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span><b>Narration</b></span>
													</label>

													<input type="text" class="form-control form-control-solid"
														ng-model="form.narr" placeholder="Narration" name="Narration" />



												</div>
												<div class="col-md-4 fv-row">

													<button type="button" class="btn btn-outline-primary me-3"
														style="float:left;margin-top:38px"
														ng-click="selectArticleModal(form.poNo)">SELECT ARTICLE</button>

												</div>





											</div>



											<br>
											<div class="separator mb-6" style="border-bottom: 1px solid #707274;"></div>


											<div class="row">

												<div class="col-md-12 fv-row table-responsive">
													<table class="table align-middle table-row-dashed table-responsiver"
														id="pick_list_dtl">
														<thead>
															<!--begin::Table row-->
															<tr style="font-weight: 700 !important;color: black !important;"
																class="text-start text-gray-400 fw-bold fs-7 text-uppercase">

																<th class="min-w-100px">Product Desc</th>
																<th class="min-w-100px">GRN No</th>
																<th class="min-w-100px">MRP</th>
																<th class="min-w-100px">Cost</th>
																<th class="min-w-100px">Rejection Quantity</th>
																<th class="min-w-100px">Reason</th>
																<th class="min-w-100px">#</th>
															</tr>
															<!--end::Table row-->
														</thead>
														<tbody class="fw-semibold text-gray-600">
															<tr class="odd"
																ng-repeat="(kee, product) in  form.product_details">

																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.name" readonly>
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.grnNo"
																		readonly></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.mrp" readonly>
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.cp" readonly>
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="product.rej_qty"></td>
																<td><select type="text"
																		class="form-control form-control-solid"
																		placeholder="" ng-model="form.reason"
																		ng-options="rsn.reason as rsn.reason for rsn in reasons">
																		<option>--select--</option>
																	</select></td>
																<td>
																	<div class="btn-group" dropdown>
																		<button type="button"
																			class="btn btn-outline-danger"
																			id="remove_add">
																			Remove
																		</button>

																	</div>
																</td>

																</td>
															</tr>
															<tr>
																<td colspan="6">
																	<center>

																		<button type="button"
																			class="border border-primary btn btn-icon btn-light-primary"
																			ng-click="appendNewitem()"
																			title="Click to add"><i
																				class="fas fa-plus"></i>
																		</button>
																	</center>
																</td>
															</tr>

														</tbody>
													</table>
												</div>


											</div>
											<br>
											<div class="separator mb-6"></div>

											<div class="" style="margin-bottom: 39px;padding-bottom: 16px;">
												<div class="col-md-12" style="text-align:center;">

													<button type="submit" class="btn btn-outline-primary me-3">
														<span class="indicator-label">Submit</span> <span
															class="indicator-progress">Please wait... <span
																class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
													</button>

													<button type="button" class="btn btn-outline-danger me-3"
														ng-click="changeView('list')">Cancel</button>
													<!--end::Button-->
													<!--begin::Button-->
												</div>

											</div>
											<!--end::Action buttons-->
										</form>
										<!--end::Form-->
									</div>
									<!--end::Card body-->
								</div>
								<!--end::Contacts-->
							</div>
							<!--end::Content-->
						</div>
						<!--end::Contacts App- Add New Contact-->
					</div>
					<!--end::Content container-->
				</div>
				<!--end::Content-->
			</div>
			<div class="modal fade modal-lg" tabindex="-1" id="assets_item_modal">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h3 class="modal-title">Select Article</h3>
							<!--begin::Close-->
							<div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
								aria-label="Close">
								<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24"
										viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path opacity="0.3"
											d="M6 19.7C5.7 19.7 5.5 19.6 5.3 19.4C4.9 19 4.9 18.4 5.3 18L18 5.3C18.4 4.9 19 4.9 19.4 5.3C19.8 5.7 19.8 6.29999 19.4 6.69999L6.7 19.4C6.5 19.6 6.3 19.7 6 19.7Z"
											fill="currentColor" />
										<path
											d="M18.8 19.7C18.5 19.7 18.3 19.6 18.1 19.4L5.40001 6.69999C5.00001 6.29999 5.00001 5.7 5.40001 5.3C5.80001 4.9 6.40001 4.9 6.80001 5.3L19.5 18C19.9 18.4 19.9 19 19.5 19.4C19.3 19.6 19 19.7 18.8 19.7Z"
											fill="currentColor" />
									</svg>
								</span>
							</div>
							<!--end::Close-->
						</div>
						<form id="kt_ecommerce_settings_general_form" class="form">
							<div class="modal-body">

								<table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer">
									<thead>
										<tr style="font-weight: 700 !important;color: black !important;"
											class="text-start text-gray-400 fw-bold fs-7 text-uppercase">
											<th>#</th>
											<th class="min-w-100px">Article Name</th>
											<th class="min-w-100px">Article Short Name</th>


										</tr>
									</thead>
									<tbody class="fw-semibold text-gray-600">
										<tr class="odd" ng-repeat="x in products">
											<td><input type="checkbox" name="gdn_Po" ng-model="x.checked_state"
													ng-click="getGRNDetailsByArticleId(x.checked_state,x.articleId)">
											</td>
											<td>{{x.articleName}}</td>
											<td>{{x.shortName}}</td>



										</tr>

									</tbody>

								</table>

							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
								<!-- <button type="submit" class="btn btn-primary">Save</button> -->
							</div>

						</form>
					</div>
				</div>
			</div>

			<!--========================== Multiple Views Content ==============================-->

			<!--begin::Footer-->
			<div th:replace="fragments/footer"></div>
			<!--end::Footer-->
		</div>
		<!--end:::Main-->
	</div>
	<!--end::Wrapper-->
	</div>
	<!--end::Page-->
	</div>
	<!--end::App-->




	<!--begin::Scrolltop -->
	<div th:replace="fragments/scroll"></div>
	<!--end::Scrolltop -->

	<!--begin::Page Javascript-->
	<script src="private/warehouseController.js"></script>
	<script>
		$("#pick_list_dtl").on('click', '#remove_add', function () {
			$(this).closest('tr').remove();
		});

		$("#pick_list_edit").on('click', '#remove_edit', function () {
			$(this).closest('tr').remove();
		});

	</script>
	<script>
		$("#kt_datepicker_1").flatpickr();
		$("#kt_datepicker_2").flatpickr();

	</script>
	<script>
		"use strict";

		// Class definition
		var KTDatatablesExample = function () {
			// Shared variables
			var table;
			var datatable;

			// Private functions
			var initDatatable = function () {
				// Set date data order
				const tableRows = table.querySelectorAll('tbody tr');

				// tableRows.forEach(row => {
				// 	const dateRow = row.querySelectorAll('td');
				// 	const realDate = moment(dateRow[3].innerHTML, "DD MMM YYYY, LT").format(); // select date from 4th column in table
				// 	dateRow[3].setAttribute('data-order', realDate);
				// });

				// Init datatable --- more info on datatables: https://datatables.net/manual/
				datatable = $(table).DataTable({
					"info": false,
					'order': [],
					'pageLength': 10,
				});
			}

			// Hook export buttons
			var exportButtons = () => {
				const documentTitle = 'Customer Orders Report';
				var buttons = new $.fn.dataTable.Buttons(table, {
					buttons: [{
						extend: 'copyHtml5',
						title: documentTitle
					},
					{
						extend: 'excelHtml5',
						title: documentTitle
					},
					{
						extend: 'csvHtml5',
						title: documentTitle
					},
					{
						extend: 'pdfHtml5',
						title: documentTitle
					}
					]
				}).container().appendTo($('#kt_datatable_example_buttons'));

				// Hook dropdown menu click event to datatable export buttons
				const exportButtons = document.querySelectorAll('#kt_datatable_example_export_menu [data-kt-export]');
				exportButtons.forEach(exportButton => {
					exportButton.addEventListener('click', e => {
						e.preventDefault();

						// Get clicked export value
						const exportValue = e.target.getAttribute('data-kt-export');
						console.log(exportValue);
						const target = document.querySelector('.dt-buttons .buttons-' + exportValue);
						console.log(target);

						// Trigger click event on hidden datatable export buttons
						// target.click();
					});
				});
			}

			// Search Datatable --- official docs reference: https://datatables.net/reference/api/search()
			var handleSearchDatatable = () => {
				const filterSearch = document.querySelector('[data-kt-filter="search"]');
				filterSearch.addEventListener('keyup', function (e) {
					datatable.search(e.target.value).draw();
				});
			}

			// Public methods
			return {
				init: function () {
					table = document.querySelector('#kt_datatable_example');

					if (!table) {
						return;
					}

					initDatatable();
					exportButtons();
					handleSearchDatatable();
				}
			};
		}();

		// On document ready
		KTUtil.onDOMContentLoaded(function () {
			KTDatatablesExample.init();
		});
	</script>
	<!--end::Page Javascript-->

</body>
<!--end::Body-->


</html>