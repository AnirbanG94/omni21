<div th:replace="fragments/head"></div>

<!--begin::Body-->
<style>
	pre {
		overflow: auto;
		word-wrap: normal;
		white-space: pre;
	}

	[ng\:cloak],
	[ng-cloak],
	.ng-cloak {
		display: none !important;
	}

	@media (min-width:992px) {
		.app-container-content {
			padding-left: 10px !important;
			padding-right: 10px !important;
		}


	}

	@media (max-width:991.98px) {
		.app-container-content {
			max-width: none;
			padding-left: 9px !important;
			padding-right: 9px !important;
		}
	}

	.prime-td {
		background-color: #f0f0f0 !important;
		height: 25px !important;
		padding: 0 0 0 10px !important;
		margin: 0 0 0 0 !important;
		vertical-align: middle !important;
		/* border: 1px #727272 solid !important; */
	}
</style>

<body ng-app="PurchaseManagment" ng-controller="PurchaseOrderController" data-kt-name="metronic" id="kt_app_body"
	data-kt-app-layout="dark-sidebar" data-kt-app-header-fixed="true" data-kt-app-sidebar-enabled="true"
	data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-hoverable="true" data-kt-app-sidebar-push-header="true"
	data-kt-app-sidebar-push-toolbar="true" data-kt-app-sidebar-push-footer="true" data-kt-app-toolbar-enabled="true"
	class="app-default">


	<!-- Header content top header codes-->
	<div th:replace="fragments/header"></div>
	<!--end::Header-->


	<!--begin::Wrapper-->
	<div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
		<!--begin::sidebar-->
		<div th:replace="fragments/side-bar"></div>
		<!--end::sidebar-->


		<!--begin::Main-->
		<div class="app-main flex-column flex-row-fluid" id="kt_app_main">

			<!--========================== Multiple Views Content ==============================-->

			<!-- // List user view -->
			<div class="d-flex flex-column flex-column-fluid" ng-show="views.list">
				<!--begin::Toolbar-->
				<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
					<!--begin::Toolbar container-->
					<div id="kt_app_toolbar_container" class="app-container container-fluid d-flex flex-stack">
						<!--begin::Page title-->
						<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
							<!--begin::Title-->
							<h3 class="">
								<span>
									<i class="fa-regular fa-file-powerpoint fs-1"></i>
								</span>
								Purchase Order
							</h3>
							<!--end::Title-->
						</div>

						<div class="card-toolbar flex-row-fluid justify-content-end gap-5" style="text-align:right;">
							<button style="float:right;" type="button" class="btn btn-primary"
								ng-click="AddPurchase()">Add</button>

							<button style="float:right;" type="button" class="btn btn-light-primary me-3"
								data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">Export</button>
							<!--begin::Menu-->
							<div id="kt_datatable_example_export_menu"
								class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-200px py-4"
								data-kt-menu="true">

								<!--begin::Menu item-->
								<div class="menu-item px-3">
									<a href="#" class="menu-link px-3" ng-click="exportToExcel('#kt_datatable_example')"
										data-kt-export="excel">
										Export as Excel
									</a>
								</div>
							</div>
							<div id="kt_datatable_example_buttons" class="d-none"></div>

						</div>
						<!--end::Page title-->
					</div>
					<!--end::Toolbar container-->
				</div>
				<!--end::Toolbar-->

				<div id="kt_app_content" class="app-content flex-column-fluid">

					<div id="" class="app-container-content container-xxl">

						<div class="card  card-flush">
							<div class="card-header border-0">
								<div class="card-title">
									<!--begin::Search-->
									<div class="d-flex align-items-center position-relative my-1">
										<span class="svg-icon svg-icon-1 position-absolute ms-6">
											<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2"
													rx="1" transform="rotate(45 17.0365 15.1223)" fill="currentColor">
												</rect>
												<path
													d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z"
													fill="currentColor"></path>
											</svg>
										</span>
										<input type="text" data-kt-filter="search" ng-model="searchText"
											class="form-control form-control-solid w-250px ps-15"
											placeholder="Search Report" />
									</div>
									<!--end::Search-->
									<!--begin::Export buttons-->
									<!-- <div id="kt_datatable_example_1_export" class="d-none"></div> -->
									<!--end::Export buttons-->
								</div>

							</div>
							<div class="card-body">
								<table
									class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer table-responsive"
									id="kt_datatable_example" datatable="ng" dt-options="vm.dtOptions">
									<thead>
										<!--begin::Table row-->
										<tr style="font-weight: 700 !important;color: black !important;"
											class="text-start text-gray-400 fw-bold fs-7 text-uppercase">
											<th class="min-w-100px">SL NO</th>
											<th class="min-w-100px">PO No.</th>
											<th class="min-w-100px">PO Date</th>
											<th class="min-w-100px">Supplier</th>
											<th class="min-w-100px">Shipping</th>
											<th class="min-w-100px">Deleviry Date</th>
											<th class="min-w-100px">Expiry Date</th>
											<th class="min-w-100px">Net Amount</th>
											<th class="min-w-100px">Status</th>

											<th>#</th>
										</tr>
										<!--end::Table row-->
									</thead>
									<tbody class="fw-semibold text-gray-600">
										<tr class="odd" ng-repeat="purchase in orders | filter:searchText">
											<td>{{$index + 1}}</td>
											<td>{{purchase.poNo}}</td>
											<td>{{purchase.poDt}}</td>
											<td>{{purchase.vendorRegistreation.name}}</td>
											<td>{{purchase.outlet.name}}</td>
											<td>{{purchase.delvDt}}</td>
											<td>{{purchase.expiryDt}}</td>
											<td>{{purchase.totNetAmt}}</td>
											<td>
												<span ng-if="purchase.status == 'O'" style="color: #e34900;">Open</span>
												<span
													ng-if="purchase.status != 'O' && purchase.status != 'A' && purchase.status != 'D'"
													style="color: #e34900;">Pending</span>
												<span ng-if="purchase.status == 'A'"
													style="color: green;">Approved</span>
												<span ng-if="purchase.status == 'D'" style="color: red;">Reject</span>
											</td>

											<td>
												<div class="btn-group" dropdown>
													<button type="button"
														class="btn btn-outline-primary dropdown-toggle">
														Action
													</button>
													<ul class="dropdown-menu" role="menu">

														<li><a href="#" ng-click="ViewPurchase(purchase.id)">View</a>
														</li>
														<li ng-if="purchase.status != 'A'"><a href="#"
																ng-click="editPurchase(purchase.id)">Edit</a>
														</li>
														<li ng-if="purchase.status == 'A'"><a href="#"
																ng-click="downloadPurchaseReport(purchase.id)">PO
																Download</a>
														</li>
														<li ng-if="purchase.status == 'A'"><a href="#"
																ng-click="BillEntryView(purchase.id)">Bill Entry</a>
														</li>
														<li ng-if="purchase.status != 'A'"><a href="#"
																ng-click="deletePurchase(purchase.id)">cancel</a>
														</li>
													</ul>
												</div>
											</td>

										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>


					<!--end::Content container-->
				</div>
			</div>

			<!-- Add user view -->
			<div class="d-flex flex-column flex-column-fluid" ng-show="views.add">
				<!--begin::Toolbar-->
				<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
					<!--begin::Toolbar container-->
					<div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
						<!--begin::Page title-->
						<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
							<!--begin::Title-->
							<h3 class="">
								<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24"
										viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path
											d="M11 2.375L2 9.575V20.575C2 21.175 2.4 21.575 3 21.575H9C9.6 21.575 10 21.175 10 20.575V14.575C10 13.975 10.4 13.575 11 13.575H13C13.6 13.575 14 13.975 14 14.575V20.575C14 21.175 14.4 21.575 15 21.575H21C21.6 21.575 22 21.175 22 20.575V9.575L13 2.375C12.4 1.875 11.6 1.875 11 2.375Z"
											fill="currentColor" />
									</svg>
								</span>
								Purchase Details: Add
							</h3>
							<!--end::Title-->

						</div>
						<!--end::Page title-->
						<div class="card-toolbar flex-row-fluid justify-content-end gap-5" style="text-align:right;">
							<button class="btn btn-outline-danger" ng-click="changeView('list')" title="Cancel"
								style="padding: calc(-0.425rem + 1px) calc(-0.5rem + 1px);">
								<span class="svg-icon svg-icon-muted svg-icon-2hx">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg"
										style="width: 2.2rem !important;height: 2.5rem !important;">
										<path d="M9.60001 11H21C21.6 11 22 11.4 22 12C22 12.6 21.6 13 21 13H9.60001V11Z"
											fill="currentColor" />
										<path opacity="0.3" d="M9.6 20V4L2.3 11.3C1.9 11.7 1.9 12.3 2.3 12.7L9.6 20Z"
											fill="currentColor" />
									</svg>
								</span>
							</button>
						</div>

					</div>
					<!--end::Toolbar container-->
				</div>
				<!--end::Toolbar-->
				<!--begin::Content-->
				<div id="kt_app_content" class="app-content flex-column-fluid">
					<!--begin::Content container-->
					<div id="kt_app_content_container" class="app-container-content container-xxl">
						<!--begin::Contacts App- Add New Contact-->
						<div class="row g-7">
							<!--begin::Contact groups-->


							<!--begin::Content-->
							<div class="col-xl-12">
								<!--begin::Contacts-->
								<div class="card card-flush h-lg-100" id="kt_contacts_main">

									<!--begin::Card body-->
									<div class="card-body pt-5">
										<!--begin::Form-->
										<form id="kt_ecommerce_settings_general_form" class="form"
											ng-submit="addSavePurchase()">



											<div class="row">
												<div class="col-md-4 fv-row">
													<label>
														<h3>Supplier</h3>
													</label>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Vendor Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.vendorId" name="vendorId"
															ng-options="vendor.id as vendor.name for vendor in vendors"
															ng-change="viewVendorDetails(form.vendorId)" required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.address1" placeholder="Address"
															name="Address1" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.city" placeholder="City" name="city"
															readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.state" placeholder="State" name="state"
															readonly />
														<input type="text" class="form-control form-control-solid"
															ng-model="form.state_id" name="state_id" hidden />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.country" placeholder="Country" name="country"
															readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.pin" placeholder="PIN" name="pin" readonly />
													</div>
												</div>
												<div class="col-md-4 fv-row">

													<h3>Billing Address</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.billing_id" name="billing_id"
															ng-change="viewBillingDetails(form.billing_id)"
															ng-options="billing.id as billing.name for billing in billings"
															required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_add" placeholder="Address"
															name="bill_add" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_city" placeholder="City"
															name="bill_city" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_state" placeholder="State"
															name="bill_state" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_country" placeholder="Country"
															name="bill_country" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_pin" placeholder="PIN" name="bill_pin"
															readonly />
													</div>
												</div>
												<div class="col-md-4 fv-row">
													<h3>Shipping Address</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.ship_id" name="ship_id"
															ng-change="viewShippmentDetails(form.ship_id)"
															ng-options="shipping.id as shipping.name for shipping in shippings"
															required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_add" placeholder="Address"
															name="ship_add" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_city" placeholder="City"
															name="ship_city" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_state" placeholder="State"
															name="ship_state" readonly />
														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_state_id" name="ship_state_id" hidden />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_country" placeholder="Country"
															name="ship_country" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_pin" placeholder="PIN" name="ship_pin"
															readonly />
													</div>
												</div>
											</div>
											<br>
											<div class="separator mb-6" style="border-bottom: 1px solid #707274;"></div>
											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class="required"><b>Delivery Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.deliv_dt" placeholder="Delivery Date"
														name="deliv_dt" id="kt_datepicker_1" required />

												</div>

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class="required"><b>Expiry Date</b></span>
													</label>
													<input type="text" readonly class="form-control form-control-solid"
														ng-model="form.exp_dt" placeholder="Expiry Date" name="exp_dt"
														id="kt_datepicker_2" required />

												</div>
												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class=""><b>Payment Terms</b></span>
													</label>
													<input type="text" readonly class="form-control form-control-solid"
														ng-model="form.paymTerms" placeholder="Payment Terms"
														name="paymTerms" />

												</div>
											</div><br>

											<div class="row">
												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class=""><b>Note</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.note" placeholder="Note" name="note" />
												</div>


											</div><br>

											<div class="row">
												<div class="col-md-12 fv-row">
													<label for="">
														<h3>Select Product</h3>
													</label>

													<button type="button" class="btn btn-outline-primary me-3"
														style="float: right;"
														ng-click="selectArticleModal(form.vendorId)">Product</button>
												</div>
												<div class="col-md-12 fv-row table-responsive">
													<table
														class="table align-middle table-row-dashed table-responsiver">
														<thead>
															<!--begin::Table row-->
															<tr style="font-weight: 700 !important;color: black !important;"
																class="text-start text-gray-400 fw-bold fs-7 text-uppercase">
																<th class="min-w-100px">SL NO</th>
																<th class="min-w-100px">Name</th>
																<th class="min-w-100px">HSN Code</th>
																<th class="min-w-100px">EN Code</th>
																<th class="min-w-100px">MRP</th>
																<th class="min-w-100px">UOM</th>
																<th class="min-w-100px">Quantity</th>
																<th class="min-w-100px">Cost</th>
																<th class="min-w-100px">Basic Amount</th>
																<th class="min-w-100px">Tax%</th>
																<th class="min-w-100px"
																	ng-if="form.state_id == form.ship_state_id">SGST
																</th>
																<th class="min-w-100px"
																	ng-if="form.state_id == form.ship_state_id">CGST
																</th>
																<th class="min-w-100px"
																	ng-if="form.state_id != form.ship_state_id">IGST
																</th>
																<th class="min-w-100px">Net Amount</th>
																<th>#</th>
															</tr>
															<!--end::Table row-->
														</thead>
														<tbody class="fw-semibold text-gray-600">
															<tr class="odd"
																ng-repeat="(kee, product) in form.product_details">
																<td>{{$index + 1}}</td>
																<td>{{product.articleName}}</td>
																<td>{{product.hsnCD}}</td>
																<td>{{product.eanCD}}</td>
																<td>{{product.mrp}}</td>
																<td>{{product.uomName}}</td>
																<!-- <td>
																	<select name="mrp" ng-model="product.mrp" class="form-control" ng-change="calculateAmounts(product.mrp,kee,product.details)">
																		<option value="" selected></option>
																		<option ng-repeat="detail in product.details" value="{{detail.mrp}}">{{detail.mrp}}</option>
																	</select>
																</td> -->
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.quantity"
																		placeholder="Quantity"
																		ng-change="calculateQuantityAmount(product.quantity,kee,product.cost,product.gst_tax)"
																		name="quantity" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.cost" readonly name="cost" />
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.basic_cost" readonly
																		name="basic_cost" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.gst_tax" readonly
																		name="gst_tax" /></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.sgst" readonly name="sgst" />
																</td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.cgst" readonly name="cgst" />
																</td>
																<td ng-if="form.state_id != form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.igst" readonly name="igst" />
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.net_amount" readonly
																		name="net_amount" /></td>

																<td>
																	<div class="btn-group" dropdown>
																		<button type="button"
																			class="btn btn-outline-danger"
																			ng-click="deleteSelectShowProducts(kee);">
																			Remove
																		</button>

																	</div>
																</td>

															</tr>
															<tr ng-if="form.product_details.length > 0">
																<td colspan="7"
																	style="text-align: right;font-weight: 600;">Grand
																	Total</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totBasicAmt" readonly
																		name="totBasicAmt" /></td>
																<td></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totSgstAmt" readonly
																		name="totSgstAmt" /></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totCgstAmt" readonly
																		name="totCgstAmt" /></td>
																<td ng-if="form.state_id != form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totIgstAmt" readonly
																		name="totIgstAmt" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totNetAmt" readonly
																		name="totNetAmt" /></td>
															</tr>
														</tbody>
													</table>
												</div>


											</div>
											<br>
											<div class="separator mb-6"></div>

											<div class="" style="margin-bottom: 39px;padding-bottom: 16px;">
												<div class="col-md-12" style="text-align:center;">

													<button type="submit" class="btn btn-outline-primary me-3">
														<span class="indicator-label">Submit</span> <span
															class="indicator-progress">Please wait... <span
																class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
													</button>

													<button type="button" class="btn btn-outline-danger me-3"
														ng-click="changeView('list')">Cancel</button>
													<!--end::Button-->
													<!--begin::Button-->
												</div>

											</div>
											<!--end::Action buttons-->
										</form>
										<!--end::Form-->
									</div>
									<!--end::Card body-->
								</div>
								<!--end::Contacts-->
							</div>
							<!--end::Content-->
						</div>
						<!--end::Contacts App- Add New Contact-->
					</div>
					<!--end::Content container-->
				</div>
				<!--end::Content-->
			</div>

			<!-- Add user view -->
			<div class="d-flex flex-column flex-column-fluid" ng-show="views.edit">
				<!--begin::Toolbar-->
				<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
					<!--begin::Toolbar container-->
					<div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
						<!--begin::Page title-->
						<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
							<!--begin::Title-->
							<h3 class="">
								<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24"
										viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path
											d="M11 2.375L2 9.575V20.575C2 21.175 2.4 21.575 3 21.575H9C9.6 21.575 10 21.175 10 20.575V14.575C10 13.975 10.4 13.575 11 13.575H13C13.6 13.575 14 13.975 14 14.575V20.575C14 21.175 14.4 21.575 15 21.575H21C21.6 21.575 22 21.175 22 20.575V9.575L13 2.375C12.4 1.875 11.6 1.875 11 2.375Z"
											fill="currentColor" />
									</svg>
								</span>
								Purchase Details: Edit
							</h3>
							<!--end::Title-->

						</div>
						<!--end::Page title-->
						<div class="card-toolbar flex-row-fluid justify-content-end gap-5" style="text-align:right;">
							<button class="btn btn-outline-danger" ng-click="changeView('list')" title="Cancel"
								style="padding: calc(-0.425rem + 1px) calc(-0.5rem + 1px);">
								<span class="svg-icon svg-icon-muted svg-icon-2hx">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg"
										style="width: 2.2rem !important;height: 2.5rem !important;">
										<path d="M9.60001 11H21C21.6 11 22 11.4 22 12C22 12.6 21.6 13 21 13H9.60001V11Z"
											fill="currentColor" />
										<path opacity="0.3" d="M9.6 20V4L2.3 11.3C1.9 11.7 1.9 12.3 2.3 12.7L9.6 20Z"
											fill="currentColor" />
									</svg>
								</span>
							</button>
						</div>

					</div>
					<!--end::Toolbar container-->
				</div>
				<!--end::Toolbar-->
				<!--begin::Content-->
				<div id="kt_app_content" class="app-content flex-column-fluid">
					<!--begin::Content container-->
					<div id="kt_app_content_container" class="app-container-content container-xxl">
						<!--begin::Contacts App- Add New Contact-->
						<div class="row g-7">
							<!--begin::Contact groups-->


							<!--begin::Content-->
							<div class="col-xl-12">
								<!--begin::Contacts-->
								<div class="card card-flush h-lg-100" id="kt_contacts_main">

									<!--begin::Card body-->
									<div class="card-body pt-5">
										<!--begin::Form-->
										<form id="kt_ecommerce_settings_general_form" class="form"
											ng-submit="editSavePurchaceOrder()">



											<div class="row">
												<div class="col-md-4 fv-row">
													<h3>Supplier</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Vendor Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.vendorId" name="vendorId"
															ng-options="vendor.id as vendor.name for vendor in vendors"
															ng-change="viewVendorDetails(form.vendorId)" required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.address1" placeholder="Address"
															name="Address1" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.city" placeholder="City" name="city"
															readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.state" placeholder="State" name="state"
															readonly />
														<input type="text" class="form-control form-control-solid"
															ng-model="form.state_id" name="state_id" hidden />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.country" placeholder="Country" name="country"
															readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.pin" placeholder="PIN" name="pin" readonly />
													</div>
												</div>
												<div class="col-md-4 fv-row">

													<h3>Billing Address</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.billing_id" name="billing_id"
															ng-change="viewBillingDetails(form.billing_id)"
															ng-options="billing.id as billing.name for billing in billings"
															required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_add" placeholder="Address"
															name="bill_add" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_city" placeholder="City"
															name="bill_city" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_state" placeholder="State"
															name="bill_state" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_country" placeholder="Country"
															name="bill_country" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_pin" placeholder="PIN" name="bill_pin"
															readonly />
													</div>
												</div>
												<div class="col-md-4 fv-row">
													<h3>Shipping Address</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.ship_id" name="ship_id"
															ng-change="viewShippmentDetails(form.ship_id)"
															ng-options="shipping.id as shipping.name for shipping in shippings"
															required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_add" placeholder="Address"
															name="ship_add" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_city" placeholder="City"
															name="ship_city" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_state" placeholder="State"
															name="ship_state" readonly />
														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_state_id" name="ship_state_id" hidden />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_country" placeholder="Country"
															name="ship_country" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_pin" placeholder="PIN" name="ship_pin"
															readonly />
													</div>
												</div>
											</div>
											<br>
											<div class="separator mb-6" style="border-bottom: 1px solid #707274;"></div>
											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">


												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class="required"><b>Delivery Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.deliv_dt" placeholder="Delivery Date"
														name="deliv_dt" id="kt_datepicker_1" required />

												</div>

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class="required"><b>Expiry Date</b></span>
													</label>
													<input type="text" readonly class="form-control form-control-solid"
														ng-model="form.exp_dt" placeholder="Expiry Date" name="exp_dt"
														id="kt_datepicker_2" required />

												</div>
												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class=""><b>Payment Terms</b></span>
													</label>
													<input type="text" readonly class="form-control form-control-solid"
														ng-model="form.paymTerms" placeholder="Payment Terms"
														name="paymTerms" />

												</div>
											</div><br>

											<div class="row">
												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class=""><b>Note</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.note" placeholder="Note" name="note" />
												</div>


											</div><br>

											<div class="row">
												<div class="col-md-12 fv-row">
													<label for="">
														<h3>Select Product</h3>
													</label>

													<button type="button" class="btn btn-outline-primary me-3"
														style="float: right;"
														ng-click="selectArticleModal(form.vendorId)">Product</button>
												</div>
												<div class="col-md-12 fv-row table-responsive">
													<table
														class="table align-middle table-row-dashed table-responsiver">
														<thead>
															<!--begin::Table row-->
															<tr style="font-weight: 700 !important;color: black !important;"
																class="text-start text-gray-400 fw-bold fs-7 text-uppercase">
																<th class="min-w-100px">SL NO</th>
																<th class="min-w-100px">Name</th>
																<th class="min-w-100px">HSN Code</th>
																<th class="min-w-100px">EN Code</th>
																<th class="min-w-100px">MRP</th>
																<th class="min-w-100px">Quantity</th>
																<th class="min-w-100px">Cost</th>
																<th class="min-w-100px">Basic Amount</th>
																<th class="min-w-100px">Tax%</th>
																<th class="min-w-100px"
																	ng-if="form.state_id == form.ship_state_id">SGST
																</th>
																<th class="min-w-100px"
																	ng-if="form.state_id == form.ship_state_id">CGST
																</th>
																<th class="min-w-100px"
																	ng-if="form.state_id != form.ship_state_id">IGST
																</th>
																<th class="min-w-100px">Net Amount</th>
																<th>#</th>
															</tr>
															<!--end::Table row-->
														</thead>
														<tbody class="fw-semibold text-gray-600">
															<tr class="odd"
																ng-repeat="(kee, product) in form.product_details">
																<td>{{$index + 1}}</td>
																<td>{{product.articleName}}</td>
																<td>{{product.hsnCD}}</td>
																<td>{{product.eanCD}}</td>
																<td>{{product.mrp}}</td>
																<!-- <td>
																	<select name="mrp" ng-model="product.mrp" class="form-control" ng-change="calculateAmounts(product.mrp,kee,product.details)">
																		<option value="" selected></option>
																		<option ng-repeat="detail in product.details" value="{{detail.mrp}}">{{detail.mrp}}</option>
																	</select>
																</td> -->
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.quantity"
																		placeholder="Quantity"
																		ng-change="calculateQuantityAmount(product.quantity,kee,product.cost,product.gst_tax)"
																		name="quantity" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.cost" readonly name="cost" />
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.basic_cost" readonly
																		name="basic_cost" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.gst_tax" readonly
																		name="gst_tax" /></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.sgst" readonly name="sgst" />
																</td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.cgst" readonly name="cgst" />
																</td>
																<td ng-if="form.state_id != form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.igst" readonly name="igst" />
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.net_amount" readonly
																		name="net_amount" /></td>

																<td>
																	<div class="btn-group" dropdown>
																		<button type="button"
																			class="btn btn-outline-danger"
																			ng-click="deleteSelectShowProducts(kee);">
																			Remove
																		</button>

																	</div>
																</td>

															</tr>
															<tr ng-if="form.product_details.length > 0">
																<td colspan="7"
																	style="text-align: right;font-weight: 600;">Grand
																	Total</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totBasicAmt" readonly
																		name="totBasicAmt" /></td>
																<td></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totSgstAmt" readonly
																		name="totSgstAmt" /></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totCgstAmt" readonly
																		name="totCgstAmt" /></td>
																<td ng-if="form.state_id != form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totIgstAmt" readonly
																		name="totIgstAmt" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totNetAmt" readonly
																		name="totNetAmt" /></td>
															</tr>
														</tbody>
													</table>
												</div>


											</div>
											<br>
											<div class="separator mb-6"></div>

											<div class="" style="margin-bottom: 39px;padding-bottom: 16px;">
												<div class="col-md-12" style="text-align:center;">

													<button type="submit" class="btn btn-outline-primary me-3">
														<span class="indicator-label">Submit</span> <span
															class="indicator-progress">Please wait... <span
																class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
													</button>

													<button type="button" class="btn btn-outline-danger me-3"
														ng-click="changeView('list')">Cancel</button>
													<!--end::Button-->
													<!--begin::Button-->
												</div>

											</div>
											<!--end::Action buttons-->
										</form>
										<!--end::Form-->
									</div>
									<!--end::Card body-->
								</div>
								<!--end::Contacts-->
							</div>
							<!--end::Content-->
						</div>
						<!--end::Contacts App- Add New Contact-->
					</div>
					<!--end::Content container-->
				</div>
				<!--end::Content-->
			</div>

			<!-- Bill entry  view -->
			<div class="d-flex flex-column flex-column-fluid" ng-show="views.billEntry">
				<!--begin::Toolbar-->
				<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
					<!--begin::Toolbar container-->
					<div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
						<!--begin::Page title-->
						<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
							<!--begin::Title-->
							<h3 class="">
								<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24"
										viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path
											d="M11 2.375L2 9.575V20.575C2 21.175 2.4 21.575 3 21.575H9C9.6 21.575 10 21.175 10 20.575V14.575C10 13.975 10.4 13.575 11 13.575H13C13.6 13.575 14 13.975 14 14.575V20.575C14 21.175 14.4 21.575 15 21.575H21C21.6 21.575 22 21.175 22 20.575V9.575L13 2.375C12.4 1.875 11.6 1.875 11 2.375Z"
											fill="currentColor" />
									</svg>
								</span>
								Purchase Bill
							</h3>
							<!--end::Title-->

						</div>
						<!--end::Page title-->
						<div class="card-toolbar flex-row-fluid justify-content-end gap-5" style="text-align:right;">
							<button class="btn btn-outline-danger" ng-click="changeView('list')" title="Cancel"
								style="padding: calc(-0.425rem + 1px) calc(-0.5rem + 1px);">
								<span class="svg-icon svg-icon-muted svg-icon-2hx">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg"
										style="width: 2.2rem !important;height: 2.5rem !important;">
										<path d="M9.60001 11H21C21.6 11 22 11.4 22 12C22 12.6 21.6 13 21 13H9.60001V11Z"
											fill="currentColor" />
										<path opacity="0.3" d="M9.6 20V4L2.3 11.3C1.9 11.7 1.9 12.3 2.3 12.7L9.6 20Z"
											fill="currentColor" />
									</svg>
								</span>
							</button>
						</div>

					</div>
					<!--end::Toolbar container-->
				</div>
				<!--end::Toolbar-->
				<!--begin::Content-->
				<div id="kt_app_content" class="app-content flex-column-fluid">
					<!--begin::Content container-->
					<div id="kt_app_content_container" class="app-container-content container-xxl">
						<!--begin::Contacts App- Add New Contact-->
						<div class="row g-7">
							<!--begin::Contact groups-->


							<!--begin::Content-->
							<div class="col-xl-12">
								<!--begin::Contacts-->
								<div class="card card-flush h-lg-100" id="kt_contacts_main">

									<!--begin::Card body-->
									<div class="card-body pt-5">
										<!--begin::Form-->
										<form id="kt_ecommerce_settings_general_form" class="form"
											ng-submit="editSavePurchaceBillEntry()">

											<div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-3">
												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class=""><b>Bill No.</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.billNo" placeholder="Payment Terms"
														name="billNo" />

												</div>
												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class=""><b>Bill Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.billDate" placeholder="Payment Terms"
														id="kt_datepicker_3" name="billDate" />

												</div>
												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span class=""><b>PO
																No.</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.poNo" placeholder="Payment Terms" name="poNo"
														readonly />

												</div>
												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span class=""><b>PO
																Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.poDt" placeholder="Payment Terms" name="poDt"
														readonly />

												</div>

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class="required"><b>Delivery Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.deliv_dt" placeholder="Delivery Date"
														name="deliv_dt" readonly />

												</div>

												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class="required"><b>Expiry Date</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.exp_dt" placeholder="Expiry Date" name="exp_dt"
														readonly />

												</div>
												<div class="col-md-4 fv-row">

													<label class="fs-6 fw-semibold form-label mt-3"><span
															class=""><b>Payment Terms</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.paymTerms" placeholder="Payment Terms"
														name="paymTerms" readonly />

												</div>
											</div><br>

											<div class="row">
												<div class="col-md-4 fv-row">
													<h3>Supplier</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Vendor Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.vendorId" name="vendorId"
															ng-options="vendor.id as vendor.name for vendor in vendors"
															ng-change="viewVendorDetails(form.vendorId)" required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.address1" placeholder="Address"
															name="Address1" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.city" placeholder="City" name="city"
															readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.state" placeholder="State" name="state"
															readonly />
														<input type="text" class="form-control form-control-solid"
															ng-model="form.state_id" name="state_id" hidden />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.country" placeholder="Country" name="country"
															readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.pin" placeholder="PIN" name="pin" readonly />
													</div>
												</div>
												<div class="col-md-4 fv-row">

													<h3>Billing Address</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.billing_id" name="billing_id"
															ng-change="viewBillingDetails(form.billing_id)"
															ng-options="billing.id as billing.name for billing in billings"
															required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_add" placeholder="Address"
															name="bill_add" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_city" placeholder="City"
															name="bill_city" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_state" placeholder="State"
															name="bill_state" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_country" placeholder="Country"
															name="bill_country" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.bill_pin" placeholder="PIN" name="bill_pin"
															readonly />
													</div>
												</div>
												<div class="col-md-4 fv-row">
													<h3>Shipping Address</h3>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class="required"><b>Name</b></span>
														</label>
														<select class="form-control form-control-solid"
															ng-model="form.ship_id" name="ship_id"
															ng-change="viewShippmentDetails(form.ship_id)"
															ng-options="shipping.id as shipping.name for shipping in shippings"
															required>

														</select>
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Address</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_add" placeholder="Address"
															name="ship_add" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>City</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_city" placeholder="City"
															name="ship_city" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>State</b></span>
														</label>
														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_state" placeholder="State"
															name="ship_state" readonly />
														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_state_id" name="ship_state_id" hidden />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>Country</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_country" placeholder="Country"
															name="ship_country" readonly />
													</div>
													<div class="col-md-12 fv-row">
														<label class="fs-6 fw-semibold form-label mt-3">
															<span class=""><b>PIN</b></span>
														</label>

														<input type="text" class="form-control form-control-solid"
															ng-model="form.ship_pin" placeholder="PIN" name="ship_pin"
															readonly />
													</div>
												</div>
											</div>
											<br>
											<div class="separator mb-6" style="border-bottom: 1px solid #707274;"></div>
											<div class="row">
												<div class="col-md-4 fv-row">
													<label class="fs-6 fw-semibold form-label mt-3">
														<span class=""><b>Note</b></span>
													</label>
													<input type="text" class="form-control form-control-solid"
														ng-model="form.note" placeholder="Note" name="note" readonly />
												</div>


											</div><br>

											<div class="row">
												<div class="col-md-12 fv-row">
													<label for="">
														<h3>Selected Product</h3>
													</label>

													<!-- <button type="button" class="btn btn-outline-primary me-3" style="float: right;" ng-click="selectArticleModal(form.vendorId)">Product</button> -->
												</div>
												<div class="col-md-12 fv-row table-responsive">
													<table
														class="table align-middle table-row-dashed table-responsiver">
														<thead>
															<!--begin::Table row-->
															<tr style="font-weight: 700 !important;color: black !important;"
																class="text-start text-gray-400 fw-bold fs-7 text-uppercase">
																<th class="min-w-100px">SL NO</th>
																<th class="min-w-100px">Name</th>
																<th class="min-w-100px">HSN Code</th>
																<th class="min-w-100px">EN Code</th>
																<th class="min-w-100px">MRP</th>
																<th class="min-w-100px">Quantity</th>
																<th class="min-w-100px">Cost</th>
																<th class="min-w-100px">Basic Amount</th>
																<th class="min-w-100px">Tax%</th>
																<th class="min-w-100px"
																	ng-if="form.state_id == form.ship_state_id">SGST
																</th>
																<th class="min-w-100px"
																	ng-if="form.state_id == form.ship_state_id">CGST
																</th>
																<th class="min-w-100px"
																	ng-if="form.state_id != form.ship_state_id">IGST
																</th>
																<th class="min-w-100px">Net Amount</th>
																<!-- <th>#</th> -->
															</tr>
															<!--end::Table row-->
														</thead>
														<tbody class="fw-semibold text-gray-600">
															<tr class="odd"
																ng-repeat="(kee, product) in form.product_details">
																<td>{{$index + 1}}</td>
																<td>{{product.articleName}}</td>
																<td>{{product.hsnCD}}</td>
																<td>{{product.eanCD}}</td>
																<td>
																	<input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.mrp" name="mrp" />
																</td>
																<!-- <td>
																	<select name="mrp" ng-model="product.mrp" class="form-control" ng-change="calculateAmounts(product.mrp,kee,product.details)">
																		<option value="" selected></option>
																		<option ng-repeat="detail in product.details" value="{{detail.mrp}}">{{detail.mrp}}</option>
																	</select>
																</td> -->
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.quantity"
																		placeholder="Quantity"
																		ng-change="calculateQuantityAmount(product.quantity,kee,product.cost,product.gst_tax)"
																		name="quantity" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.cost" readonly name="cost" />
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.basic_cost" readonly
																		name="basic_cost" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.gst_tax" readonly
																		name="gst_tax" /></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.sgst" readonly name="sgst" />
																</td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.cgst" readonly name="cgst" />
																</td>
																<td ng-if="form.state_id != form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="product.igst" readonly name="igst" />
																</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="product.net_amount" readonly
																		name="net_amount" /></td>

																<!-- <td>
																	<div class="btn-group" dropdown>
																		<button type="button" class="btn btn-outline-danger" ng-click="deleteSelectShowProducts(kee);">
																			Remove
																		</button>

																	</div>
																</td> -->

															</tr>
															<tr ng-if="form.product_details.length > 0">
																<td colspan="7"
																	style="text-align: right;font-weight: 600;">Grand
																	Total</td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totBasicAmt" readonly
																		name="totBasicAmt" /></td>
																<td></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totSgstAmt" readonly
																		name="totSgstAmt" /></td>
																<td ng-if="form.state_id == form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totCgstAmt" readonly
																		name="totCgstAmt" /></td>
																<td ng-if="form.state_id != form.ship_state_id"><input
																		type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totIgstAmt" readonly
																		name="totIgstAmt" /></td>
																<td><input type="text"
																		class="form-control form-control-solid"
																		ng-model="form.totNetAmt" readonly
																		name="totNetAmt" /></td>
															</tr>
														</tbody>
													</table>
												</div>


											</div>
											<br>
											<div class="separator mb-6"></div>

											<div class="" style="margin-bottom: 39px;padding-bottom: 16px;">
												<div class="col-md-12" style="text-align:center;">

													<button type="submit" class="btn btn-outline-primary me-3">
														<span class="indicator-label">Submit</span> <span
															class="indicator-progress">Please wait... <span
																class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
													</button>

													<button type="button" class="btn btn-outline-danger me-3"
														ng-click="changeView('list')">Cancel</button>
													<!--end::Button-->
													<!--begin::Button-->
												</div>

											</div>
											<!--end::Action buttons-->
										</form>
										<!--end::Form-->
									</div>
									<!--end::Card body-->
								</div>
								<!--end::Contacts-->
							</div>
							<!--end::Content-->
						</div>
						<!--end::Contacts App- Add New Contact-->
					</div>
					<!--end::Content container-->
				</div>
				<!--end::Content-->
			</div>
			<!--========================== Multiple Views Content ==============================-->

			<!--begin::Footer-->
			<div th:replace="fragments/footer"></div>
			<!--end::Footer-->
		</div>
		<!--end:::Main-->
	</div>
	<!--end::Wrapper-->
	</div>
	<!--end::Page-->
	</div>
	<!--end::App-->




	<!--begin::Scrolltop-->
	<div th:replace="fragments/scroll"></div>
	<!--end::Scrolltop-->

	<!-- ==================Model code content======================= -->
	<div class="modal fade modal-lg" tabindex="-1" id="link_article_modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title">Select Product</h3>

					<!--begin::Close-->

					<div class="d-flex align-items-center position-relative my-1">
						<span class="svg-icon svg-icon-1 position-absolute ms-6">
							<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1"
									transform="rotate(45 17.0365 15.1223)" fill="currentColor">
								</rect>
								<path
									d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z"
									fill="currentColor"></path>
							</svg>
						</span>
						<input type="text" data-kt-filter="search" ng-model="searchTextSelectPdt"
							class="form-control form-control-solid w-250px ps-15" placeholder="Search Product" />
					</div>
					<div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
						aria-label="Close">
						<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg
								style="height: 2rem !important;width: 2rem !important;" width="24" height="24"
								viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path opacity="0.3"
									d="M6 19.7C5.7 19.7 5.5 19.6 5.3 19.4C4.9 19 4.9 18.4 5.3 18L18 5.3C18.4 4.9 19 4.9 19.4 5.3C19.8 5.7 19.8 6.29999 19.4 6.69999L6.7 19.4C6.5 19.6 6.3 19.7 6 19.7Z"
									fill="currentColor" />
								<path
									d="M18.8 19.7C18.5 19.7 18.3 19.6 18.1 19.4L5.40001 6.69999C5.00001 6.29999 5.00001 5.7 5.40001 5.3C5.80001 4.9 6.40001 4.9 6.80001 5.3L19.5 18C19.9 18.4 19.9 19 19.5 19.4C19.3 19.6 19 19.7 18.8 19.7Z"
									fill="currentColor" />
							</svg>
						</span>
					</div>
					<!--end::Close-->
				</div>

				<form id="kt_ecommerce_settings_general_form" class="form" ng-submit="selectShowProducts()">
					<div class="modal-body">
						<table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer">
							<thead>
								<tr style="font-weight: 700 !important;color: black !important;"
									class="text-start text-gray-400 fw-bold fs-7 text-uppercase">
									<th class="min-w-100px">#
										<input type="checkbox" name="clusterId" hidden ng-model="form.clusterId">
									</th>
									<th class="min-w-100px">Name</th>
									<th class="min-w-100px">Short Name</th>
									<th class="min-w-100px">HSN Code</th>
									<th class="min-w-100px">EAN Code</th>
									<th class="min-w-100px">MRP</th>
								</tr>
							</thead>
							<tbody class="fw-semibold text-gray-600">
								<tr class="odd" ng-repeat="product in form.products | filter:searchTextSelectPdt">
									<td><input type="checkbox" name="productId[]" ng-model="product.checked_state"
											ng-click="selectShowProducts(product.checked_state,product);"></td>
									<td>{{product.articleName}}</td>
									<td>{{product.articleShortName}}</td>
									<td>{{product.hsnCD}}</td>
									<td>{{product.eanCD}}</td>
									<td>{{product.mrp}}</td>
								</tr>
							</tbody>
						</table>

					</div>

					<div class="modal-footer">
						<button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
						<!-- <button type="submit" class="btn btn-primary">Save</button> -->
					</div>
				</form>
			</div>
		</div>
	</div>

	<div class="modal fade modal-xl" tabindex="-1" id="purchase_order_view_modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title">Purchase Order: View</h3>

					<!--begin::Close-->
					<div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
						aria-label="Close">
						<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24"
								viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path opacity="0.3"
									d="M6 19.7C5.7 19.7 5.5 19.6 5.3 19.4C4.9 19 4.9 18.4 5.3 18L18 5.3C18.4 4.9 19 4.9 19.4 5.3C19.8 5.7 19.8 6.29999 19.4 6.69999L6.7 19.4C6.5 19.6 6.3 19.7 6 19.7Z"
									fill="currentColor" />
								<path
									d="M18.8 19.7C18.5 19.7 18.3 19.6 18.1 19.4L5.40001 6.69999C5.00001 6.29999 5.00001 5.7 5.40001 5.3C5.80001 4.9 6.40001 4.9 6.80001 5.3L19.5 18C19.9 18.4 19.9 19 19.5 19.4C19.3 19.6 19 19.7 18.8 19.7Z"
									fill="currentColor" />
							</svg>
						</span>
					</div>
					<!--end::Close-->
				</div>
				<div class="modal-body">
					<table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer">
						<tr>
							<th colspan="6"
								style="font-weight: 700 !important;color: black !important;text-align: center;font-size: 17px;">
								Order Deatils</th>
						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">PO No. :</th>
							<td>{{purchase_order.poNo}}</td>
							<th style="font-weight: 700 !important;color: black !important;">PO Date :</th>
							<td>{{purchase_order.poDt}}</td>

							<th style="font-weight: 700 !important;color: black !important;">Delivery Date :</th>
							<td>{{purchase_order.delvDt}}</td>

						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">Expiry Date :</th>
							<td>{{purchase_order.expiryDt}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Payment Terms :</th>
							<td>{{purchase_order.paymTerms}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Note :</th>
							<td>{{purchase_order.note}}</td>

						</tr>
						<tr>
							<th colspan="2"
								style="font-weight: 700 !important;color: black !important;text-align: center;font-size: 17px;">
								Supplier</th>
							<th colspan="2"
								style="font-weight: 700 !important;color: black !important;text-align: center;font-size: 17px;">
								Billing Address</th>
							<th colspan="2"
								style="font-weight: 700 !important;color: black !important;text-align: center;font-size: 17px;">
								Shipping Address</th>
						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">Vendor Name :</th>
							<td>{{purchase_order.vendorRegistreation.name}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Name :</th>
							<td>{{purchase_order.company.name}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Name :</th>
							<td>{{purchase_order.outlet.name}}</td>



						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">Address :</th>
							<td>{{purchase_order.vendorRegistreation.add1}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Address :</th>
							<td>{{purchase_order.company.addr1}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Address :</th>
							<td>{{purchase_order.outlet.add1}}</td>
						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">City :</th>
							<td>{{purchase_order.vendorRegistreation.locationname}}</td>
							<th style="font-weight: 700 !important;color: black !important;">City :</th>
							<td>{{purchase_order.company.locationname}}</td>
							<th style="font-weight: 700 !important;color: black !important;">City :</th>
							<td>{{purchase_order.outlet.locationname}}</td>
						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">State :</th>
							<td>{{purchase_order.vendorRegistreation.statename}}</td>
							<th style="font-weight: 700 !important;color: black !important;">State :</th>
							<td>{{purchase_order.company.statename}}</td>
							<th style="font-weight: 700 !important;color: black !important;">State :</th>
							<td>{{purchase_order.outlet.statename}}</td>
						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">Country :</th>
							<td>{{purchase_order.vendorRegistreation.countryname}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Country :</th>
							<td>{{purchase_order.company.countryname}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Country :</th>
							<td>{{purchase_order.outlet.countryname}}</td>
						</tr>
						<tr>
							<th style="font-weight: 700 !important;color: black !important;">Pincode :</th>
							<td>{{purchase_order.vendorRegistreation.pin}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Pincode :</th>
							<td>{{purchase_order.company.pincode}}</td>
							<th style="font-weight: 700 !important;color: black !important;">Pincode :</th>
							<td>{{purchase_order.outlet.pin}}</td>
						</tr>

						<tr>
							<th colspan="6"
								style="font-weight: 700 !important;color: black !important;text-align: center;font-size: 17px;">
								Products</th>
						</tr>
					</table>
					<table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer">
						<tr>
							<th>SL NO</th>
							<th>Name</th>
							<th>HSN Code</th>
							<th>EN Code</th>
							<th>MRP</th>
							<th>Quantity</th>
							<th>Cost</th>
							<th>Basic Amount</th>
							<th>Tax%</th>
							<th ng-if="purchase_order.vendorRegistreation.stateid == purchase_order.outlet.stateid">SGST
							</th>
							<th ng-if="purchase_order.vendorRegistreation.stateid == purchase_order.outlet.stateid">CGST
							</th>
							<th ng-if="purchase_order.vendorRegistreation.stateid != purchase_order.outlet.stateid">IGST
							</th>
							<th>Net Amount</th>
						</tr>
						<tr class="odd" ng-repeat="(kee, product) in purchase_order.details">
							<td>{{$index + 1}}</td>
							<td>{{product.articleName}}</td>
							<td>{{product.hsnCd}}</td>
							<td>{{product.eanCd}}</td>
							<td>{{product.mrp}}</td>
							<td>{{product.qty}}</td>
							<td>{{product.cp}}</td>
							<td>{{product.basicAmt}}</td>
							<td>{{product.taxPer}}</td>

							<td ng-if="purchase_order.vendorRegistreation.stateid == purchase_order.outlet.stateid">
								{{product.sgstAmt}}
							</td>
							<td ng-if="purchase_order.vendorRegistreation.stateid == purchase_order.outlet.stateid">
								{{product.cgstAmt}}
							</td>
							<td ng-if="purchase_order.vendorRegistreation.stateid != purchase_order.outlet.stateid">
								{{product.igstAmt}}
							</td>
							<td>{{product.netAmt}}</td>

						</tr>
						<tr ng-if="purchase_order.details.length > 0">
							<td colspan="7" style="text-align: right;font-weight: 600;">Grand Total</td>
							<td>{{purchase_order.totBasicAmt}}</td>
							<td></td>
							<td ng-if="purchase_order.vendorRegistreation.stateid == purchase_order.outlet.stateid">
								{{purchase_order.totSgstAmt}}
							</td>
							<td ng-if="purchase_order.vendorRegistreation.stateid == purchase_order.outlet.stateid">
								{{purchase_order.totCgstAmt}}
							</td>
							<td ng-if="purchase_order.vendorRegistreation.stateid != purchase_order.outlet.stateid">
								{{purchase_order.totIgstAmt}}
							</td>
							<td>{{purchase_order.totNetAmt}}</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!-- ==================End Model code content=================== -->


	<!--begin::Page Javascript-->
	<script src="private/purchaseController.js"></script>
	<script>
		$("#kt_datepicker_1").flatpickr();
		$("#kt_datepicker_2").flatpickr();
		$("#kt_datepicker_3").flatpickr();
	</script>
	<script>
		"use strict";

		// Class definition
		var KTDatatablesExample = function () {
			// Shared variables
			var table;
			var datatable;

			// Private functions
			var initDatatable = function () {
				// Set date data order
				const tableRows = table.querySelectorAll('tbody tr');

				// tableRows.forEach(row => {
				// 	const dateRow = row.querySelectorAll('td');
				// 	const realDate = moment(dateRow[3].innerHTML, "DD MMM YYYY, LT").format(); // select date from 4th column in table
				// 	dateRow[3].setAttribute('data-order', realDate);
				// });

				// Init datatable --- more info on datatables: https://datatables.net/manual/
				datatable = $(table).DataTable({
					"info": false,
					'order': [],
					'pageLength': 10,
				});
			}

			// Hook export buttons
			var exportButtons = () => {
				const documentTitle = 'Customer Orders Report';
				var buttons = new $.fn.dataTable.Buttons(table, {
					buttons: [{
						extend: 'copyHtml5',
						title: documentTitle
					},
					{
						extend: 'excelHtml5',
						title: documentTitle
					},
					{
						extend: 'csvHtml5',
						title: documentTitle
					},
					{
						extend: 'pdfHtml5',
						title: documentTitle
					}
					]
				}).container().appendTo($('#kt_datatable_example_buttons'));

				// Hook dropdown menu click event to datatable export buttons
				const exportButtons = document.querySelectorAll('#kt_datatable_example_export_menu [data-kt-export]');
				exportButtons.forEach(exportButton => {
					exportButton.addEventListener('click', e => {
						e.preventDefault();

						// Get clicked export value
						const exportValue = e.target.getAttribute('data-kt-export');
						console.log(exportValue);
						const target = document.querySelector('.dt-buttons .buttons-' + exportValue);
						console.log(target);

						// Trigger click event on hidden datatable export buttons
						// target.click();
					});
				});
			}

			// Search Datatable --- official docs reference: https://datatables.net/reference/api/search()
			var handleSearchDatatable = () => {
				const filterSearch = document.querySelector('[data-kt-filter="search"]');
				filterSearch.addEventListener('keyup', function (e) {
					datatable.search(e.target.value).draw();
				});
			}

			// Public methods
			return {
				init: function () {
					table = document.querySelector('#kt_datatable_example');

					if (!table) {
						return;
					}

					initDatatable();
					exportButtons();
					handleSearchDatatable();
				}
			};
		}();

		// On document ready
		KTUtil.onDOMContentLoaded(function () {
			KTDatatablesExample.init();
		});
	</script>
	<!--end::Page Javascript-->

</body>
<!--end::Body-->


</html>